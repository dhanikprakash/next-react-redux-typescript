(this["webpackJsonpnext-react-typescript"]=this["webpackJsonpnext-react-typescript"]||[]).push([[0],{71:function(e,t,a){e.exports=a(97)},76:function(e,t,a){},91:function(e,t,a){},97:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(6),o=a.n(c),l=(a(76),a(44)),s=a(11),u=a(33),i=a(136),m=a(138),p=a(140),f=a(46),h=a(146),E=a(133),d=Object(E.a)({root:{minWidth:275,margin:"30px 30px 0px 30px",textAlign:"center"},title:{fontSize:14,marginBottom:20},pos:{marginBottom:20}}),b=a(22),v=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],r=t[1],c=d(),o=Object(n.useState)(""),l=Object(u.a)(o,2),s=l[0],E=l[1],v=function(){return r(!a)},g=Object(b.b)();return n.createElement(n.Fragment,null,n.createElement(i.a,{className:c.root,onMouseOver:v,onMouseOut:v,raised:a},n.createElement(m.a,null,n.createElement(f.a,{variant:"h5",component:"h2"},"Next Front-End Search - Apple API"),n.createElement(f.a,{className:c.title,color:"textSecondary",gutterBottom:!0},"React/Redux/Thunk/Node/Styled component/FP/Jest/Material UI"),n.createElement("form",{onSubmit:function(e){e.preventDefault(),console.log("Dispatch Search Query: "+s);var t={query:s.replace(/ /g,"+")};g(function(e){return{type:"CREATE_SEARCH",payload:e}}(t))},noValidate:!0,autoComplete:"off"},n.createElement(h.a,{id:"standard-basic",onChange:function(e){E(e.target.value)},label:"Artist/Album/Song"}),n.createElement(p.a,{variant:"contained",color:"primary",type:"submit"},"Search")))))},g=a(56),y=a(57),O=a.n(y),S=a(139),w=a(141),j=a(143),x=a(142),k=a(147),C=a(144),R=a(43),N=a(32),_=a.n(N),A=a(42);function q(e){return M.apply(this,arguments)}function M(){return(M=Object(A.a)(_.a.mark((function e(t){var a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=2;break}return e.abrupt("return",t.json());case 2:if(400!==t.status){e.next=7;break}return e.next=5,t.text();case 5:throw a=e.sent,new Error(a);case 7:throw console.log("Network response was not ok."),new Error("Network response was not ok.");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var D={hasMore:!1,offSet:0,items:[]},T=function(){var e=Object(b.b)(),t=Object(n.useState)(0),a=Object(u.a)(t,2),c=a[0],o=a[1],l=d(),s=Object(b.c)((function(e){return e.search})),p=Object(b.c)((function(e){return e.searchResults})),f=Object(n.useState)(D),h=Object(u.a)(f,2),E=h[0],v=h[1];return Object(n.useEffect)((function(){null!==s&&""===s.query&&v(D),e(function(e,t){return function(){var a=Object(A.a)(_.a.mark((function a(n){var r;return _.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,c=e,o=t.query,fetch("https://itunes.apple.com/"+"search?media=music&offset=".concat(c,"&limit=").concat(10,"&term=").concat(o)).then(q);case 3:r=a.sent,n({type:"LOAD_RESULT_SUCCESS",payload:r}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log("Api call error");case 10:case"end":return a.stop()}var c,o}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()}(c,s))}),[e,s,s.query,c]),Object(n.useEffect)((function(){null!=p&&(p.resultCount>0&&v({hasMore:p.results.length>0,offSet:E.offSet+p.results.length,items:E.items.concat(p.results)}),0===p.resultCount&&0===E.offSet&&null!=s.query&&""!==s.query&&(R.b.warn("No Matching Results",{position:"top-right",autoClose:3e3,hideProgressBar:!0,closeOnClick:!0}),v(D)))}),[p]),r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{className:l.root,raised:!0},r.a.createElement(m.a,null,r.a.createElement("div",{id:"scrollableDiv",style:{height:600,overflow:"auto"}},r.a.createElement(g.a,{dataLength:E.items.length,next:function(){o(E.offSet)},hasMore:E.hasMore,loader:r.a.createElement("h4",null,"Loading..."),scrollableTarget:"scrollableDiv"},r.a.createElement(S.a,null,E.items.map((function(e){return r.a.createElement("div",{key:O.a.generate()},r.a.createElement(w.a,null,r.a.createElement(x.a,null,r.a.createElement(k.a,{src:e.artworkUrl100})),r.a.createElement(j.a,{primary:e.artistName,secondary:e.trackName+" - "+e.collectionName})),r.a.createElement(C.a,{variant:"inset",component:"li"}))}))))))))},L=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(v,null),r.a.createElement(T,null))},U=(a(90),a(91),function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,null,r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",component:L})),r.a.createElement(R.a,{position:"top-right"})))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var B=a(20),F=a(34),I={search:{query:""},searchResults:{resultCount:0,results:[{}]}};var P=Object(B.c)({search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I.search,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_SEARCH":return Object(F.a)(Object(F.a)({},e),{},{query:t.payload.query});default:return e}},searchResults:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I.searchResults,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_RESULT_SUCCESS":return Object(F.a)(Object(F.a)({},e),{},{resultCount:t.payload.resultCount,results:t.payload.results});default:return e}}}),J=a(58),W=a.n(J),H=a(59);var V=a(145),X=function(e){var t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||B.d;return Object(B.e)(P,e,t(Object(B.a)(H.a,W()())))}({});o.a.render(r.a.createElement(b.a,{store:X},r.a.createElement(V.a,null),r.a.createElement(l.a,null,r.a.createElement(U,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[71,1,2]]]);
//# sourceMappingURL=main.269ca2fe.chunk.js.map